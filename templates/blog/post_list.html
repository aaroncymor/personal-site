{% extends 'base.html' %}
{% load static %}

{% block content %}
<div class="container">
    <h3>Blog</h3>
    <div class="divider"></div>
    {% if posts %}
        {% for post in posts %}
        <div class="row">
            <p class="aaroncymor-post-title">{{ post.title }}</p>
            <p class="aaroncymor-post-content">{{ post.short_content }}</p>
            {% if request.session.authorized %}
            <a href="{% url 'post-form' %}?id={{ post.id }}">Edit</a>
            {% endif %}
            Read more <a href="{% url 'post-detail' post.id %}">here</a>.
        </div>
        {% endfor %}

        {% if is_paginated %}
        <ul class="pagination">
            {% if group_has_prev %}
                <li class=""><a href="{% url 'post-list' %}?group_num={{ group_prev }}&page={{ group_page_prev }}"><i class="material-icons">chevron_left</i></a></li>
            {% endif %}

            {% for gp in grouped_pagination %}
            <li class=""><a href="{% url 'post-list' %}?group_num={{ group_curr }}&page={{ gp }}">{{ gp }}</a></li>
            {% endfor %}

            {% if group_has_next %}
                <li class=""><a href="{% url 'post-list' %}?group_num={{ group_next }}&page={{ group_page_next }}"><i class="material-icons">chevron_right</i></a></li>
            {% endif %}
        </ul>
        {% endif %}
    {% else %}
        Walang POSTS
    {% endif %}
</div>
{% endblock content %}